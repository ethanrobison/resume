%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
\documentclass[$fontsize$, letter]{article}

% LAYOUT
\usepackage{geometry} 
\geometry{$geometry$}
\setlength\parindent{0cm}
\pagenumbering{gobble}

% Enable multicolumns
\usepackage{multicol}
\setlength{\columnsep}{-3.5cm}

% Lists
\usepackage[inline]{enumitem}
\setlist[itemize]{noitemsep}
\newlist{commalist}{description*}{4}
\setlist[commalist]{itemjoin={{,}},afterlabel=\unskip{{~}},mode=unboxed}

% Color
\usepackage{xcolor}

% Margins
\usepackage{changepage}

% LANGUAGE
% Set the main language
$if(lang)$
\usepackage{polyglossia}
\setmainlanguage{$lang$}
$endif$

% TYPOGRAPHY
\usepackage{fontspec} 
\usepackage{xunicode}
\usepackage{xltxtra}
% converts LaTeX specials (quotes, dashes etc.) to Unicode
\defaultfontfeatures{Mapping=tex-text}
\setromanfont [Ligatures={Common}, Numbers={OldStyle}]{$mainfont$}

% MARGIN NOTES
\usepackage{marginnote}
\newcommand{\note}[1]{\marginnote{\scriptsize #1}}
\renewcommand*{\raggedleftmarginnote}{}
\setlength{\marginparsep}{7pt}
\reversemarginpar

% HEADINGS
\usepackage{sectsty} 
\usepackage[normalem]{ulem} 
\sectionfont{\rmfamily\mdseries} 
\subsectionfont{\rmfamily\mdseries\scshape\normalsize} 
\subsubsectionfont{\rmfamily\bfseries\upshape\normalsize} 

% PDF SETUP
\usepackage{hyperref}
\hypersetup
{
    pdfauthor={$name$},
    pdfsubject={$name$ Resumé},
    pdftitle={$name$'s Resumé},
    colorlinks, breaklinks, xetex, bookmarks,
    filecolor=black,
    urlcolor=[rgb]{0,0,0},
    linkcolor=[rgb]{0.117,0.682,0.858}
}

\newcommand{\heading}[1]{
    \hrulefill \vspace{-0.5cm} \subsection*{{\color{gray} #1}}
}

% DOCUMENT
\begin{document}

\begin{minipage}[t]{0.4\textwidth}
    {\Huge $name$}\\[.2cm]
\end{minipage}
\hfill
\begin{minipage}[b][2cm][b]{0.4\textwidth}
    \begin{itemize}[label={}, align=right]
        \item \hfill $email$
        \item \hfill \href{https://$url$}{$url$}
        \item \hfill $phone$
        \item \hfill $address$
    \end{itemize}
\end{minipage}

\heading{Professional Summary}
\begin{adjustwidth}{28pt}{0pt}
$intro$
\end{adjustwidth}

\heading{Development Experience}
$for(work)$
    {\Large $work.title$}
    {\small \color{gray}
    $work.comp$
    $if(work.extra)$ \big| $work.extra$ $endif$ \hspace*{\fill} $work.time$}
    \\
    $work.desc$
    \begin{itemize}
    $for(work.item)$
        \item $work.item$
    $endfor$
    \end{itemize}
$endfor$

\heading{Selected Experience}
$for(proj)$
    {\Large $proj.title$}
    {\small \color{gray}
    $proj.comp$
    $if(proj.extra)$ \big| $proj.extra$ $endif$ \hspace*{\fill} $proj.time$}
    \begin{adjustwidth}{0pt}{0pt}
    $proj.desc$\\
    \end{adjustwidth}

$endfor$
    
\heading{Education}
$for(education)$
    $education.subject$
    {\small {\color{gray}
    $education.institution$
    \hspace*{\fill} $education.years$}}\\
    $if(education.desc)$ $education.desc$\\ $endif$
    \vspace{-\baselineskip}
$endfor$

\heading{Skills}
{\color{gray} Technical}
\begin{commalist}
$for(skill)$
    \item $skill.item$ $if(skill.prof)$ ($skill.prof$) $endif$
$endfor$
\end{commalist}

{\color{gray} Soft}
\begin{commalist}
$for(soft)$
    \item $soft.item$ $if(soft.prof)$ {\color{gray}($soft.prof$)} $endif$
$endfor$
\end{commalist}

\end{document}
